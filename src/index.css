@tailwind base;
@tailwind components;
@tailwind utilities;

/* Safe Area Support for Notch/Dynamic Island/Gesture Bar */
.safe-area-container {
  padding-top: max(env(safe-area-inset-top), 0px);
  padding-inline-end: max(env(safe-area-inset-right), 0px);
  padding-bottom: max(env(safe-area-inset-bottom), 0px);
  padding-inline-start: max(env(safe-area-inset-left), 0px);
  min-height: 100vh;
  min-height: -webkit-fill-available;
}

/* Safe area for fixed header */
.safe-area-top {
  padding-top: max(env(safe-area-inset-top), 0px);
}

.safe-area-bottom {
  padding-bottom: max(env(safe-area-inset-bottom), 0px);
}

  @layer base {
    :root {
      /* === RADICAL MINIMALISM COLOR SYSTEM === */
      /* Off-White / Foggy Grey Backgrounds */
      --background: 210 17% 98%;        /* #F8F9FA - Ultra light, calm */
      --foreground: 222 47% 20%;        /* #1F2937 - Dark grey, never black */
      
      /* Silver/Platinum Accents - Premium luxury */
      --primary: 210 11% 71%;           /* #B8BFC7 - Soft silver */
      --primary-foreground: 222 47% 11%; 
      --primary-glow: 210 20% 85%;      /* #D9DEE3 - Lighter silver */
      --primary-light: 210 25% 92%;     /* #EEF0F2 - Very light silver */
      
      /* Minimal accent colors */
      --secondary: 210 16% 93%;         /* #ECEFF1 - Ultra soft grey */
      --secondary-foreground: 222 47% 20%;
      
      --accent: 210 14% 89%;            /* #E1E5E9 - Soft accent */
      --accent-foreground: 222 47% 20%;
      --accent-light: 210 20% 96%;
      
      --muted: 210 16% 93%;             /* Soft muted */
      --muted-foreground: 215 16% 47%;  /* #6B7280 - Soft grey text */
      
      /* Semantic colors - minimal, ethereal */
      --success: 142 71% 45%;           /* Calm green */
      --success-foreground: 0 0% 100%;
      --success-light: 142 76% 96%;
      
      --warning: 38 92% 50%;            /* Soft amber */
      --warning-foreground: 0 0% 100%;
      --warning-light: 48 100% 96%;
      
      --destructive: 0 72% 51%;         /* Calm red */
      --destructive-foreground: 0 0% 100%;
      --destructive-light: 0 93% 94%;
      
      --info: 199 89% 48%;              /* Calm blue */
      --info-foreground: 0 0% 100%;
      --info-light: 204 94% 94%;
      
      /* UI Elements - ultra soft */
      --card: 0 0% 100%;                /* Pure white cards */
      --card-foreground: 222 47% 20%;
      
      --popover: 0 0% 100%;
      --popover-foreground: 222 47% 20%;
      
      --border: 214 32% 91%;            /* #E5E7EB - Barely there border */
      --input: 214 32% 91%;
      --ring: 210 11% 71%;              /* Silver ring */
      
      --radius: 1rem;                   /* Larger, organic corners */
    }

    .dark {
      /* Dark mode: Deep, serene, midnight blue tones */
      --background: 222 47% 8%;         /* #0F1419 - Deep midnight */
      --foreground: 210 20% 92%;        /* #E8EDF2 - Soft white */
      
      --primary: 210 20% 65%;           /* #9BA6B3 - Muted silver-blue */
      --primary-foreground: 222 47% 95%;
      --primary-glow: 210 30% 45%;
      --primary-light: 210 35% 25%;
      
      --secondary: 222 47% 14%;         /* #1A1F29 */
      --secondary-foreground: 210 20% 92%;
      
      --accent: 222 47% 18%;            /* #232937 */
      --accent-foreground: 210 20% 92%;
      --accent-light: 222 47% 22%;
      
      --muted: 222 47% 18%;
      --muted-foreground: 215 16% 65%;  /* #9CA3AF */
      
      --success: 142 71% 45%;
      --success-foreground: 0 0% 100%;
      --success-light: 142 71% 15%;
      
      --warning: 38 92% 50%;
      --warning-foreground: 0 0% 100%;
      --warning-light: 48 100% 15%;
      
      --destructive: 0 72% 51%;
      --destructive-foreground: 0 0% 100%;
      --destructive-light: 0 93% 15%;
      
      --info: 199 89% 48%;
      --info-foreground: 0 0% 100%;
      --info-light: 204 94% 15%;
      
      --card: 222 47% 11%;              /* #1A1F29 - Elevated dark */
      --card-foreground: 210 20% 92%;
      
      --popover: 222 47% 11%;
      --popover-foreground: 210 20% 92%;
      
      --border: 222 47% 18%;            /* Subtle dark border */
      --input: 222 47% 18%;
      --ring: 210 20% 65%;
    }
  }

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
    font-family: 'Vazirmatn', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    direction: rtl;
    text-align: start;
    line-height: 1.6;
    /* Prevent iOS zoom on input focus */
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
    /* Prevent overscroll rubber-band effect on mobile */
    overscroll-behavior-y: none;
  }
  
  html {
    scroll-behavior: smooth;
    direction: rtl;
    text-align: start;
    /* Prevent overscroll rubber-band effect on mobile */
    overscroll-behavior-y: none;
  }
  
  * {
    text-align: start;
    direction: rtl;
  }
  
  input, textarea, select, button {
    text-align: start;
    direction: rtl;
    /* Prevent zoom on iOS when input is focused */
    font-size: max(16px, 1rem);
  }
  
  /* Ensure minimum touch target size (44x44px) */
  button, a, [role="button"], [type="button"], [type="submit"] {
    min-height: 44px;
    min-width: 44px;
  }
  
  /* Force RTL for all flex containers */
  .flex {
    flex-direction: row-reverse;
  }
  
  /* Override for specific cases where ltr is needed */
  .flex-ltr {
    flex-direction: row !important;
  }
}

@layer utilities {
  /* Glass Morphism - Enhanced */
  .glass {
    background: rgba(255, 255, 255, 0.75);
    backdrop-filter: blur(16px) saturate(180%);
    border: 1px solid rgba(255, 255, 255, 0.4);
    box-shadow: var(--shadow-md);
  }
  
  .dark .glass {
    background: rgba(20, 20, 30, 0.5);
    border: 1px solid rgba(255, 255, 255, 0.12);
    box-shadow: var(--shadow-lg);
  }
  
  .glass-strong {
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(20px) saturate(200%);
    border: 1px solid rgba(255, 255, 255, 0.5);
  }
  
  .dark .glass-strong {
    background: rgba(20, 20, 30, 0.7);
    border: 1px solid rgba(255, 255, 255, 0.15);
  }
  
  /* Mobile-Optimized Glass (No Blur for Android Performance) */
  body.is-android .glass {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: none;
  }
  
  body.is-android.dark .glass {
    background: rgba(20, 20, 30, 0.95);
    backdrop-filter: none;
  }
  
  body.is-android .glass-strong,
  body.is-android header {
    background: rgba(255, 255, 255, 0.98);
    backdrop-filter: none;
    border-bottom: 2px solid hsl(var(--primary) / 0.2);
  }
  
  body.is-android.dark .glass-strong,
  body.is-android.dark header {
    background: rgba(20, 20, 30, 0.98);
    backdrop-filter: none;
    border-bottom: 2px solid hsl(var(--primary) / 0.2);
  }
  
  /* Gradient Utilities */
  .gradient-text {
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .gradient-bg-primary {
    background: var(--gradient-primary);
  }
  
  .gradient-bg-hero {
    background: var(--gradient-hero);
  }
  
  /* Metallic Silver Gradient (Premium Look) */
  .gradient-metallic-silver {
    background: linear-gradient(135deg, #E0E0E0 0%, #FFFFFF 50%, #BDBDBD 100%);
  }
  
  .bg-gradient-metallic-silver {
    background: linear-gradient(135deg, #E0E0E0 0%, #FFFFFF 50%, #BDBDBD 100%);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  }
  
  /* Glow Effects */
  .glow {
    box-shadow: var(--shadow-glow-primary);
  }
  
  .glow-success {
    box-shadow: var(--shadow-glow-success);
  }
  
  .glow-warning {
    box-shadow: var(--shadow-glow-warning);
  }
  
  /* Interactive States */
  .hover-lift {
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }
  
  .hover-lift:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-xl);
  }
  
  .hover-scale {
    transition: transform 0.2s ease;
  }
  
  .hover-scale:hover {
    transform: scale(1.05);
  }
  
  .hover-glow:hover {
    box-shadow: var(--shadow-glow-primary);
  }
  
  /* Custom Scrollbar */
  .custom-scrollbar::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-track {
    background: hsl(var(--muted));
    border-radius: 4px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: hsl(var(--primary) / 0.3);
    border-radius: 4px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--primary) / 0.5);
  }
}

@layer components {
  /* Enhanced Animations */
  @keyframes float {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    50% { transform: translateY(-25px) rotate(3deg); }
  }
  
  @keyframes shimmer {
    0% { background-position: -1000px 0; }
    100% { background-position: 1000px 0; }
  }
  
  @keyframes glow {
    0%, 100% { opacity: 1; filter: brightness(1); }
    50% { opacity: 0.7; filter: brightness(1.3); }
  }
  
  @keyframes pulse-glow {
    0%, 100% { box-shadow: 0 0 20px rgba(99, 102, 241, 0.3); }
    50% { box-shadow: 0 0 40px rgba(99, 102, 241, 0.6); }
  }
  
  @keyframes bounce-in {
    0% { transform: scale(0.3); opacity: 0; }
    50% { transform: scale(1.08); }
    70% { transform: scale(0.95); }
    100% { transform: scale(1); opacity: 1; }
  }
  
  @keyframes slide-up {
    from { transform: translateY(100%); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }
  
  @keyframes slide-down {
    from { transform: translateY(-100%); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }
  
  @keyframes fade-in {
    from { opacity: 0; transform: scale(0.95); }
    to { opacity: 1; transform: scale(1); }
  }
  
  @keyframes fade-in-up {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  @keyframes rotate-360 {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }
  
  @keyframes wiggle {
    0%, 100% { transform: rotate(0deg); }
    25% { transform: rotate(-5deg); }
    75% { transform: rotate(5deg); }
  }
  
  @keyframes heartbeat {
    0%, 100% { transform: scale(1); }
    25% { transform: scale(1.1); }
    50% { transform: scale(1); }
    75% { transform: scale(1.05); }
  }
  
  /* Animation Classes */
  .animate-float {
    animation: float 4s ease-in-out infinite;
  }
  
  .animate-shimmer {
    animation: shimmer 2s infinite linear;
    background: linear-gradient(to right, transparent 0%, rgba(255,255,255,0.4) 50%, transparent 100%);
    background-size: 1000px 100%;
  }
  
  .animate-glow {
    animation: glow 2.5s ease-in-out infinite;
  }
  
  .animate-pulse-glow {
    animation: pulse-glow 2s ease-in-out infinite;
  }
  
  .animate-bounce-in {
    animation: bounce-in 0.7s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  }
  
  .animate-slide-up {
    animation: slide-up 0.5s ease-out;
  }
  
  .animate-slide-down {
    animation: slide-down 0.5s ease-out;
  }
  
  .animate-fade-in {
    animation: fade-in 0.4s ease-out;
  }
  
  .animate-fade-in-up {
    animation: fade-in-up 0.6s ease-out;
  }
  
  .animate-rotate {
    animation: rotate-360 2s linear infinite;
  }
  
  .animate-wiggle {
    animation: wiggle 0.5s ease-in-out;
  }
  
  .animate-heartbeat {
    animation: heartbeat 1.5s ease-in-out infinite;
  }
  
  /* Delay Utilities */
  .delay-100 { animation-delay: 0.1s; }
  .delay-200 { animation-delay: 0.2s; }
  .delay-300 { animation-delay: 0.3s; }
  .delay-400 { animation-delay: 0.4s; }
  .delay-500 { animation-delay: 0.5s; }
}
